<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ICSE Planner - Syllabus Tracker</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Poppins', sans-serif; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            50% { box-shadow: 0 0 40px rgba(59, 130, 246, 0.8), 0 0 60px rgba(147, 51, 234, 0.5); }
        }
        
        @keyframes slide-up {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slide-in-left {
            from { opacity: 0; transform: translateX(-100px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes slide-in-right {
            from { opacity: 0; transform: translateX(100px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes bounce-in {
            0% { opacity: 0; transform: scale(0.3); }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
        
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes ripple {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        .animate-slide-up { animation: slide-up 0.6s ease-out forwards; }
        .animate-slide-left { animation: slide-in-left 0.6s ease-out forwards; }
        .animate-slide-right { animation: slide-in-right 0.6s ease-out forwards; }
        .animate-bounce-in { animation: bounce-in 0.8s ease-out forwards; }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        .animate-spin-slow { animation: spin-slow 20s linear infinite; }
        .animate-gradient { 
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899, #3b82f6);
            background-size: 300% 100%;
            animation: gradient-shift 3s ease infinite;
        }
        
        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }
        
        .card-hover {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .card-hover:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        
        .btn-3d {
            transition: all 0.2s;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }
        .btn-3d:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 rgba(0,0,0,0.2);
        }
        
        .google-btn {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .google-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        .google-btn:hover::before {
            width: 300px;
            height: 300px;
        }
        .google-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 40px rgba(66, 133, 244, 0.4);
        }
        
        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .page { display: none; }
        .page.active { display: block; }
        
        .confetti-piece {
            position: fixed;
            width: 10px;
            height: 10px;
            top: -10px;
            animation: confetti 3s ease-out forwards;
        }
        
        .chapter-item {
            transition: all 0.3s ease;
        }
        .chapter-item:hover {
            transform: translateX(10px);
            background: rgba(59, 130, 246, 0.1);
        }
        
        .subject-accordion {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .subject-accordion.open {
            max-height: 3000px;
        }
        
        .timer-digit {
            background: linear-gradient(180deg, #1e3a8a 0%, #1e40af 50%, #1e3a8a 100%);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .orbit {
            position: absolute;
            border: 1px dashed rgba(59, 130, 246, 0.3);
            border-radius: 50%;
            animation: spin-slow 20s linear infinite;
        }
        
        .orbit-dot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #3b82f6;
            border-radius: 50%;
            box-shadow: 0 0 10px #3b82f6;
        }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #3b82f6; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #2563eb; }
        
        .loading-dots span {
            animation: bounce-in 1.4s infinite ease-in-out both;
        }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        .loading-dots span:nth-child(3) { animation-delay: 0s; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen text-white overflow-x-hidden">
    
    <!-- Floating Background Elements -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-20 left-10 w-72 h-72 bg-blue-500/20 rounded-full blur-3xl animate-float"></div>
        <div class="absolute bottom-20 right-10 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-float" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/2 left-1/2 w-64 h-64 bg-pink-500/10 rounded-full blur-3xl animate-float" style="animation-delay: 2s;"></div>
        <div class="absolute top-1/4 right-1/4 w-48 h-48 bg-cyan-500/10 rounded-full blur-3xl animate-float" style="animation-delay: 1.5s;"></div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 bg-slate-900 z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="relative w-32 h-32 mx-auto mb-6">
                <div class="orbit w-32 h-32" style="animation-duration: 3s;">
                    <div class="orbit-dot" style="top: 0; left: 50%; transform: translateX(-50%);"></div>
                </div>
                <div class="orbit w-24 h-24 top-4 left-4" style="animation-duration: 2s; animation-direction: reverse;">
                    <div class="orbit-dot" style="top: 50%; right: 0; transform: translateY(-50%); background: #8b5cf6; box-shadow: 0 0 10px #8b5cf6;"></div>
                </div>
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/c4/CISCE_logo.png/150px-CISCE_logo.png" 
                     alt="ICSE Logo" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white p-2">
            </div>
            <h2 class="text-2xl font-bold" style="background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6, #60a5fa); background-size: 300% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: gradient-shift 3s ease infinite;">
                ICSE Planner
            </h2>
            <div class="loading-dots flex justify-center gap-1 mt-4">
                <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                <span class="w-3 h-3 bg-purple-500 rounded-full"></span>
                <span class="w-3 h-3 bg-pink-500 rounded-full"></span>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="app" class="relative z-10 min-h-screen">
        
        <!-- Auth Page -->
        <div id="authPage" class="page active">
            <div class="min-h-screen flex items-center justify-center p-4">
                <div class="w-full max-w-md">
                    <!-- Logo -->
                    <div class="text-center mb-8 animate-bounce-in">
                        <div class="relative inline-block">
                            <div class="absolute inset-0 bg-blue-500/30 rounded-full blur-xl animate-pulse-glow"></div>
                            <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/c4/CISCE_logo.png/150px-CISCE_logo.png" 
                                 alt="ICSE Logo" class="relative w-28 h-28 mx-auto mb-4 animate-float rounded-full bg-white p-3 shadow-2xl">
                        </div>
                        <h1 class="text-5xl font-extrabold mt-4" style="background: linear-gradient(90deg, #60a5fa, #a78bfa, #f472b6, #60a5fa); background-size: 300% 100%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: gradient-shift 3s ease infinite;">
                            ICSE Planner
                        </h1>
                        <p class="text-slate-400 mt-3 text-lg">Your Complete Syllabus Tracker</p>
                    </div>
                    
                    <!-- Auth Card -->
                    <div class="glass rounded-3xl p-8 animate-slide-up shadow-2xl">
                        <div class="text-center mb-6">
                            <h2 class="text-2xl font-bold text-white mb-2">Welcome! üëã</h2>
                            <p class="text-slate-400">Sign in to track your ICSE journey</p>
                        </div>
                        
                        <!-- Google Sign In Button -->
                        <button onclick="signInWithGoogle()" id="googleSignInBtn" 
                            class="google-btn w-full py-4 px-6 bg-white text-gray-700 rounded-2xl font-semibold text-lg flex items-center justify-center gap-4 hover:bg-gray-50 transition-all">
                            <svg class="w-6 h-6" viewBox="0 0 24 24">
                                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                            </svg>
                            <span>Continue with Google</span>
                        </button>
                        
                        <!-- Loading State -->
                        <div id="authLoading" class="hidden w-full py-4 px-6 bg-slate-700 rounded-2xl">
                            <div class="flex items-center justify-center gap-3">
                                <div class="w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                                <span class="text-slate-300">Signing in...</span>
                            </div>
                        </div>
                        
                        <div id="authError" class="mt-4 p-4 bg-red-500/20 border border-red-500 rounded-xl text-red-400 text-center hidden animate-shake"></div>
                        
                        <!-- Features Preview -->
                        <div class="mt-8 pt-6 border-t border-slate-700/50">
                            <p class="text-center text-slate-500 text-sm mb-4">What you'll get:</p>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="flex items-center gap-2 text-sm text-slate-400">
                                    <span class="text-green-400">‚úì</span> Track all subjects
                                </div>
                                <div class="flex items-center gap-2 text-sm text-slate-400">
                                    <span class="text-green-400">‚úì</span> Exam countdown
                                </div>
                                <div class="flex items-center gap-2 text-sm text-slate-400">
                                    <span class="text-green-400">‚úì</span> Progress sync
                                </div>
                                <div class="flex items-center gap-2 text-sm text-slate-400">
                                    <span class="text-green-400">‚úì</span> Chapter tracking
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Footer Note -->
                    <p class="text-center text-slate-500 text-xs mt-6 animate-slide-up" style="animation-delay: 0.3s;">
                        By signing in, you agree to track your studies like a pro! üöÄ
                    </p>
                </div>
            </div>
        </div>

        <!-- Setup Page -->
        <div id="setupPage" class="page">
            <div class="min-h-screen flex items-center justify-center p-4">
                <div class="w-full max-w-2xl">
                    <div class="text-center mb-8 animate-bounce-in">
                        <div class="text-6xl mb-4">üéì</div>
                        <h1 class="text-4xl font-bold text-white mb-2">Welcome, <span id="setupUserName" class="text-blue-400"></span>!</h1>
                        <p class="text-slate-400 text-lg">Let's set up your ICSE study plan</p>
                    </div>
                    
                    <div class="glass rounded-3xl p-8 animate-slide-up shadow-2xl">
                        <!-- Progress Indicator -->
                        <div class="flex justify-center mb-8">
                            <div class="flex items-center gap-2">
                                <div id="stepIndicator1" class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center font-bold">1</div>
                                <div class="w-12 h-1 bg-slate-700 rounded"><div id="stepProgress1" class="h-full bg-blue-600 rounded transition-all duration-500" style="width: 0%"></div></div>
                                <div id="stepIndicator2" class="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold">2</div>
                                <div class="w-12 h-1 bg-slate-700 rounded"><div id="stepProgress2" class="h-full bg-blue-600 rounded transition-all duration-500" style="width: 0%"></div></div>
                                <div id="stepIndicator3" class="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center font-bold">3</div>
                            </div>
                        </div>
                        
                        <!-- Step 1: Stream Selection -->
                        <div id="step1" class="step">
                            <h2 class="text-2xl font-bold mb-2 text-center">Select Your Stream</h2>
                            <p class="text-slate-400 text-center mb-6">Choose your academic stream for Class 10</p>
                            <div class="grid grid-cols-2 gap-6">
                                <button onclick="selectStream('science')" class="stream-btn group p-8 rounded-2xl border-2 border-slate-700 hover:border-blue-500 transition-all card-hover bg-slate-800/50 relative overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-br from-blue-500/0 to-blue-500/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    <div class="relative">
                                        <div class="text-6xl mb-4">üî¨</div>
                                        <div class="text-2xl font-bold">Science</div>
                                        <p class="text-sm text-slate-400 mt-2">Physics, Chemistry, Biology/Math</p>
                                    </div>
                                </button>
                                <button onclick="selectStream('commerce')" class="stream-btn group p-8 rounded-2xl border-2 border-slate-700 hover:border-purple-500 transition-all card-hover bg-slate-800/50 relative overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-br from-purple-500/0 to-purple-500/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    <div class="relative">
                                        <div class="text-6xl mb-4">üìä</div>
                                        <div class="text-2xl font-bold">Commerce</div>
                                        <p class="text-sm text-slate-400 mt-2">Commercial Studies, Economics</p>
                                    </div>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 2: Optional Subject -->
                        <div id="step2" class="step hidden">
                            <h2 class="text-2xl font-bold mb-2 text-center">Select Your Optional Subject</h2>
                            <p class="text-slate-400 text-center mb-6">Choose your Group 3 subject</p>
                            <div class="grid grid-cols-3 gap-4">
                                <button onclick="selectOptional('computer')" class="optional-btn group p-6 rounded-2xl border-2 border-slate-700 hover:border-cyan-500 transition-all card-hover bg-slate-800/50 relative overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-br from-cyan-500/0 to-cyan-500/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    <div class="relative">
                                        <div class="text-5xl mb-3">üíª</div>
                                        <div class="font-bold">Computer</div>
                                        <p class="text-xs text-slate-400 mt-1">Java Programming</p>
                                    </div>
                                </button>
                                <button onclick="selectOptional('pe')" class="optional-btn group p-6 rounded-2xl border-2 border-slate-700 hover:border-green-500 transition-all card-hover bg-slate-800/50 relative overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-br from-green-500/0 to-green-500/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    <div class="relative">
                                        <div class="text-5xl mb-3">‚öΩ</div>
                                        <div class="font-bold">Physical Ed</div>
                                        <p class="text-xs text-slate-400 mt-1">Sports & Fitness</p>
                                    </div>
                                </button>
                                <button onclick="selectOptional('art')" class="optional-btn group p-6 rounded-2xl border-2 border-slate-700 hover:border-pink-500 transition-all card-hover bg-slate-800/50 relative overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-br from-pink-500/0 to-pink-500/20 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    <div class="relative">
                                        <div class="text-5xl mb-3">üé®</div>
                                        <div class="font-bold">Art</div>
                                        <p class="text-xs text-slate-400 mt-1">Drawing & Design</p>
                                    </div>
                                </button>
                            </div>
                            <button onclick="goBackToStep1()" class="mt-8 flex items-center gap-2 text-slate-400 hover:text-white transition-all mx-auto">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                                Go Back
                            </button>
                        </div>
                        
                        <!-- Step 3: Exam Date -->
                        <div id="step3" class="step hidden">
                            <h2 class="text-2xl font-bold mb-2 text-center">When is Your Exam? üìÖ</h2>
                            <p class="text-slate-400 text-center mb-6">We'll create a countdown timer for you</p>
                            <div class="max-w-sm mx-auto space-y-6">
                                <div class="relative">
                                    <input type="date" id="examDate" 
                                        class="w-full px-6 py-4 bg-slate-800/50 rounded-2xl border border-slate-700 focus:border-blue-500 transition-all text-lg text-center">
                                </div>
                                <div id="examPreview" class="text-center text-slate-400 text-sm hidden">
                                    <span id="examPreviewText"></span>
                                </div>
                                <button onclick="completeSetup()" class="w-full py-4 bg-gradient-to-r from-green-600 to-teal-600 rounded-2xl font-bold text-lg btn-3d hover:from-green-700 hover:to-teal-700 transition-all flex items-center justify-center gap-2">
                                    <span>üöÄ</span> Start My Journey!
                                </button>
                            </div>
                            <button onclick="goBackToStep2()" class="mt-8 flex items-center gap-2 text-slate-400 hover:text-white transition-all mx-auto">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                                Go Back
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="page">
            <!-- Header -->
            <header class="sticky top-0 z-40 glass border-b border-slate-700/50">
                <div class="container mx-auto px-4 py-4 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/c4/CISCE_logo.png/150px-CISCE_logo.png" 
                             alt="ICSE" class="w-10 h-10 rounded-full bg-white p-1">
                        <h1 class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400">ICSE Planner</h1>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-3">
                            <img id="userPhoto" src="" alt="" class="w-10 h-10 rounded-full border-2 border-blue-500 hidden">
                            <span id="userName" class="text-slate-300 hidden md:block font-medium"></span>
                        </div>
                        <button onclick="logout()" class="px-4 py-2 bg-red-600/20 text-red-400 rounded-xl hover:bg-red-600/30 transition-all flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
                            <span class="hidden md:inline">Logout</span>
                        </button>
                    </div>
                </div>
            </header>

            <main class="container mx-auto px-4 py-8">
                <!-- Timer Section -->
                <div class="glass rounded-3xl p-8 mb-8 animate-slide-up relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"></div>
                    <div class="relative">
                        <h2 class="text-center text-xl text-slate-400 mb-6 flex items-center justify-center gap-2">
                            <span class="text-2xl">‚è∞</span> Time Until Exams
                        </h2>
                        <div id="examTimer" class="flex justify-center gap-4 md:gap-6 flex-wrap">
                            <div class="text-center">
                                <div id="timerDays" class="timer-digit text-4xl md:text-6xl font-bold px-4 md:px-6 py-4 rounded-2xl min-w-[80px] md:min-w-[120px]">00</div>
                                <p class="text-sm text-slate-400 mt-3 font-medium">Days</p>
                            </div>
                            <div class="text-center">
                                <div id="timerHours" class="timer-digit text-4xl md:text-6xl font-bold px-4 md:px-6 py-4 rounded-2xl min-w-[80px] md:min-w-[120px]">00</div>
                                <p class="text-sm text-slate-400 mt-3 font-medium">Hours</p>
                            </div>
                            <div class="text-center">
                                <div id="timerMinutes" class="timer-digit text-4xl md:text-6xl font-bold px-4 md:px-6 py-4 rounded-2xl min-w-[80px] md:min-w-[120px]">00</div>
                                <p class="text-sm text-slate-400 mt-3 font-medium">Minutes</p>
                            </div>
                            <div class="text-center">
                                <div id="timerSeconds" class="timer-digit text-4xl md:text-6xl font-bold px-4 md:px-6 py-4 rounded-2xl min-w-[80px] md:min-w-[120px]">00</div>
                                <p class="text-sm text-slate-400 mt-3 font-medium">Seconds</p>
                            </div>
                        </div>
                        <p id="examDateDisplay" class="text-center text-slate-400 mt-6 text-lg"></p>
                    </div>
                </div>

                <!-- Progress Overview -->
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="glass rounded-2xl p-6 card-hover animate-slide-left relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl"></div>
                        <div class="relative flex items-center justify-between">
                            <div>
                                <p class="text-slate-400 text-sm">Overall Progress</p>
                                <p id="overallProgress" class="text-5xl font-bold text-blue-400 mt-1">0%</p>
                            </div>
                            <svg class="w-24 h-24" viewBox="0 0 36 36">
                                <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                    fill="none" stroke="#334155" stroke-width="3"/>
                                <path id="progressRing" class="progress-ring"
                                    d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"
                                    fill="none" stroke="url(#progressGradient)" stroke-width="3"
                                    stroke-dasharray="0, 100" stroke-linecap="round"/>
                                <defs>
                                    <linearGradient id="progressGradient">
                                        <stop offset="0%" stop-color="#3b82f6"/>
                                        <stop offset="100%" stop-color="#8b5cf6"/>
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                    </div>
                    <div class="glass rounded-2xl p-6 card-hover animate-slide-up relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-2xl"></div>
                        <div class="relative">
                            <p class="text-slate-400 text-sm">Chapters Completed</p>
                            <p id="chaptersCompleted" class="text-5xl font-bold text-green-400 mt-1">0/0</p>
                            <div class="mt-3 h-2 bg-slate-700 rounded-full overflow-hidden">
                                <div id="chaptersBar" class="h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-500" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="glass rounded-2xl p-6 card-hover animate-slide-right relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-2xl"></div>
                        <div class="relative">
                            <p class="text-slate-400 text-sm">Your Stream</p>
                            <p id="streamDisplay" class="text-4xl font-bold text-purple-400 mt-1">-</p>
                            <p id="optionalDisplay" class="text-slate-400 mt-2 text-sm"></p>
                        </div>
                    </div>
                </div>

                <!-- Syllabus Tracker -->
                <div class="glass rounded-3xl p-6 md:p-8 animate-slide-up">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold flex items-center gap-3">
                            <span class="text-3xl">üìö</span> Your Syllabus
                        </h2>
                        <div class="text-sm text-slate-400">
                            Click on a subject to expand
                        </div>
                    </div>
                    <div id="syllabusContainer" class="space-y-4">
                        <!-- Subjects will be loaded here -->
                    </div>
                </div>
            </main>

            <!-- Footer -->
            <footer class="glass border-t border-slate-700/50 mt-12 py-8">
                <div class="container mx-auto px-4 text-center">
                    <div class="flex items-center justify-center gap-3 mb-4">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/c/c4/CISCE_logo.png/150px-CISCE_logo.png" 
                             alt="CISCE" class="w-8 h-8 rounded-full bg-white p-1 opacity-50">
                    </div>
                    <p class="text-slate-400 text-sm mb-2">
                        ‚ö†Ô∏è <strong>Disclaimer:</strong> This site is <strong>NOT</strong> affiliated to CISCE (Council for the Indian School Certificate Examinations).
                    </p>
                    <p class="text-slate-500 text-xs">Made with ‚ù§Ô∏è for ICSE Students | ¬© 2024 ICSE Planner</p>
                </div>
            </footer>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCqSu-4wkbFNpRINLlHo5sWGM-bPY-MBvM",
            authDomain: "icse-syllabus-tracker.firebaseapp.com",
            projectId: "icse-syllabus-tracker",
            storageBucket: "icse-syllabus-tracker.firebasestorage.app",
            messagingSenderId: "925688497446",
            appId: "1:925688497446:web:17823893ee2350942c2de7",
            measurementId: "G-17BGSZT6DD"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const googleProvider = new firebase.auth.GoogleAuthProvider();

        // Complete Syllabus Data
        const syllabusData = {
            common: {
                "English Language": {
                    icon: "üìù",
                    color: "blue",
                    chapters: [
                        "Composition - Essay Writing",
                        "Composition - Letter Writing (Formal)",
                        "Composition - Letter Writing (Informal)",
                        "Composition - Notice Writing",
                        "Composition - Email Writing",
                        "Composition - Report Writing",
                        "Composition - Argumentative Essay",
                        "Comprehension - Prose Passage",
                        "Comprehension - Poetry",
                        "Grammar - Tenses (Present, Past, Future)",
                        "Grammar - Prepositions",
                        "Grammar - Conjunctions",
                        "Grammar - Modals (can, could, may, might, must, etc.)",
                        "Grammar - Subject-Verb Agreement",
                        "Grammar - Active & Passive Voice",
                        "Grammar - Direct & Indirect Speech",
                        "Grammar - Transformation of Sentences",
                        "Grammar - Question Tags",
                        "Grammar - Phrasal Verbs",
                        "Grammar - Idioms and Phrases"
                    ]
                },
                "English Literature": {
                    icon: "üìñ",
                    color: "indigo",
                    chapters: [
                        "DRAMA: Julius Caesar - Act III Scene 1 (The Assassination)",
                        "DRAMA: Julius Caesar - Act III Scene 2 (Brutus & Antony's Speeches)",
                        "DRAMA: Julius Caesar - Act III Scene 3 (Cinna the Poet)",
                        "DRAMA: Julius Caesar - Act IV Scene 1 (The Triumvirate)",
                        "DRAMA: Julius Caesar - Act IV Scene 2 (Brutus and Cassius Meet)",
                        "DRAMA: Julius Caesar - Act IV Scene 3 (The Quarrel Scene)",
                        "DRAMA: Julius Caesar - Act V Scene 1 (Before the Battle)",
                        "DRAMA: Julius Caesar - Act V Scene 2 (The Battle Begins)",
                        "DRAMA: Julius Caesar - Act V Scene 3 (Cassius's Death)",
                        "DRAMA: Julius Caesar - Act V Scene 4 (Young Cato's Death)",
                        "DRAMA: Julius Caesar - Act V Scene 5 (Brutus's Death)",
                        "TREASURE CHEST - PROSE: With the Photographer ‚Äì Stephen Leacock",
                        "TREASURE CHEST - PROSE: The Elevator ‚Äì William Sleator",
                        "TREASURE CHEST - PROSE: The Girl Who Can ‚Äì Ama Ata Aidoo",
                        "TREASURE CHEST - PROSE: The Pedestrian ‚Äì Ray Bradbury",
                        "TREASURE CHEST - PROSE: The Last Lesson ‚Äì Alphonse Daudet",
                        "TREASURE CHEST - POETRY: Haunted Houses ‚Äì H.W. Longfellow",
                        "TREASURE CHEST - POETRY: The Glove and the Lions ‚Äì Leigh Hunt",
                        "TREASURE CHEST - POETRY: When Great Trees Fall ‚Äì Maya Angelou",
                        "TREASURE CHEST - POETRY: A Considerable Speck ‚Äì Robert Frost",
                        "TREASURE CHEST - POETRY: The Power of Music ‚Äì Sukumar Ray"
                    ]
                },
                "Hindi": {
                    icon: "üî§",
                    color: "orange",
                    chapters: [
                        "‡§ó‡§¶‡•ç‡§Ø - ‡§¨‡§°‡§º‡•á ‡§≠‡§æ‡§à ‡§∏‡§æ‡§π‡§¨ (‡§™‡•ç‡§∞‡•á‡§Æ‡§ö‡§Ç‡§¶)",
                        "‡§ó‡§¶‡•ç‡§Ø - ‡§®‡•á‡§§‡§æ‡§ú‡•Ä ‡§ï‡§æ ‡§ö‡§∂‡•ç‡§Æ‡§æ (‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂)",
                        "‡§ó‡§¶‡•ç‡§Ø - ‡§¨‡§æ‡§≤‡§ó‡•ã‡§¨‡§ø‡§® ‡§≠‡§ó‡§§ (‡§∞‡§æ‡§Æ‡§µ‡•É‡§ï‡•ç‡§∑ ‡§¨‡•á‡§®‡•Ä‡§™‡•Å‡§∞‡•Ä)",
                        "‡§ó‡§¶‡•ç‡§Ø - ‡§≤‡§ñ‡§®‡§µ‡•Ä ‡§Ö‡§Ç‡§¶‡§æ‡§ú‡§º (‡§Ø‡§∂‡§™‡§æ‡§≤)",
                        "‡§ó‡§¶‡•ç‡§Ø - ‡§Æ‡§æ‡§®‡§µ‡•Ä‡§Ø ‡§ï‡§∞‡•Å‡§£‡§æ ‡§ï‡•Ä ‡§¶‡§ø‡§µ‡•ç‡§Ø ‡§ö‡§Æ‡§ï",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§∏‡§æ‡§ñ‡•Ä (‡§ï‡§¨‡•Ä‡§∞)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§™‡§∞‡•ç‡§µ‡§§ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§µ‡§∏ (‡§∏‡•Å‡§Æ‡§ø‡§§‡•ç‡§∞‡§æ‡§®‡§Ç‡§¶‡§® ‡§™‡§Ç‡§§)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§Æ‡§ß‡•Å‡§∞ ‡§Æ‡§ß‡•Å‡§∞ ‡§Æ‡•á‡§∞‡•á ‡§¶‡•Ä‡§™‡§ï ‡§ú‡§≤ (‡§Æ‡§π‡§æ‡§¶‡•á‡§µ‡•Ä ‡§µ‡§∞‡•ç‡§Æ‡§æ)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§è‡§ï ‡§´‡•Ç‡§≤ ‡§ï‡•Ä ‡§ö‡§æ‡§π (‡§∏‡§ø‡§Ø‡§æ‡§∞‡§æ‡§Æ‡§∂‡§∞‡§£ ‡§ó‡•Å‡§™‡•ç‡§§)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§∞‡§æ‡§Æ-‡§≤‡§ï‡•ç‡§∑‡•ç‡§Æ‡§£-‡§™‡§∞‡§∂‡•Å‡§∞‡§æ‡§Æ ‡§∏‡§Ç‡§µ‡§æ‡§¶ (‡§§‡•Å‡§≤‡§∏‡•Ä‡§¶‡§æ‡§∏)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§Ø‡§π ‡§¶‡§Ç‡§§‡•Å‡§∞‡§ø‡§§ ‡§Æ‡•Å‡§∏‡§ï‡§æ‡§® (‡§®‡§æ‡§ó‡§æ‡§∞‡•ç‡§ú‡•Å‡§®)",
                        "‡§ï‡§æ‡§µ‡•ç‡§Ø - ‡§´‡§∏‡§≤ (‡§®‡§æ‡§ó‡§æ‡§∞‡•ç‡§ú‡•Å‡§®)",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§∏‡§Ç‡§ß‡§ø (‡§∏‡•ç‡§µ‡§∞ ‡§∏‡§Ç‡§ß‡§ø, ‡§µ‡•ç‡§Ø‡§Ç‡§ú‡§® ‡§∏‡§Ç‡§ß‡§ø, ‡§µ‡§ø‡§∏‡§∞‡•ç‡§ó ‡§∏‡§Ç‡§ß‡§ø)",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§∏‡§Æ‡§æ‡§∏",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§Æ‡•Å‡§π‡§æ‡§µ‡§∞‡•á ‡§î‡§∞ ‡§≤‡•ã‡§ï‡•ã‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§Ö‡§™‡§†‡§ø‡§§ ‡§ó‡§¶‡•ç‡§Ø‡§æ‡§Ç‡§∂",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§™‡§§‡•ç‡§∞ ‡§≤‡•á‡§ñ‡§® (‡§î‡§™‡§ö‡§æ‡§∞‡§ø‡§ï ‡§µ ‡§Ö‡§®‡•å‡§™‡§ö‡§æ‡§∞‡§ø‡§ï)",
                        "‡§µ‡•ç‡§Ø‡§æ‡§ï‡§∞‡§£ - ‡§®‡§ø‡§¨‡§Ç‡§ß ‡§≤‡•á‡§ñ‡§®"
                    ]
                },
                "History & Civics": {
                    icon: "üèõÔ∏è",
                    color: "amber",
                    chapters: [
                        "HISTORY: The First War of Independence 1857 - Causes",
                        "HISTORY: The First War of Independence 1857 - Events & Consequences",
                        "HISTORY: Growth of Nationalism - Factors",
                        "HISTORY: First Phase of Indian National Movement (1885-1907) - Early Nationalists",
                        "HISTORY: Second Phase of Indian National Movement (1905-1916) - Swadeshi Movement",
                        "HISTORY: Second Phase - Home Rule Movement",
                        "HISTORY: Mahatma Gandhi and the National Movement - Non-Cooperation (1920-22)",
                        "HISTORY: Mahatma Gandhi - Civil Disobedience Movement (1930-34)",
                        "HISTORY: The Freedom Movement (1935-1947) - Quit India Movement",
                        "HISTORY: The Freedom Movement - Independence and Partition",
                        "HISTORY: The First World War - Causes, Events & Results",
                        "HISTORY: Rise of Dictatorships - Fascism in Italy",
                        "HISTORY: Rise of Dictatorships - Nazism in Germany",
                        "HISTORY: The Second World War - Causes, Events & Results",
                        "HISTORY: United Nations Organization - Formation & Objectives",
                        "HISTORY: United Nations - Principal Organs",
                        "HISTORY: Major Challenges - Human Rights",
                        "HISTORY: Major Challenges - Terrorism & Environment",
                        "CIVICS: The Union Legislature - Lok Sabha",
                        "CIVICS: The Union Legislature - Rajya Sabha",
                        "CIVICS: The Union Legislature - Powers & Functions",
                        "CIVICS: The Union Executive - President (Election & Powers)",
                        "CIVICS: The Union Executive - Vice President",
                        "CIVICS: The Prime Minister and Council of Ministers",
                        "CIVICS: The Judiciary - Supreme Court",
                        "CIVICS: The Judiciary - High Courts",
                        "CIVICS: The State Legislature and Executive"
                    ]
                },
                "Geography": {
                    icon: "üåç",
                    color: "green",
                    chapters: [
                        "Map Work - Identification and Marking",
                        "Location, Extent and Physical Features of India",
                        "Climate of India - Factors Affecting",
                        "Climate of India - Seasons (Southwest & Northeast Monsoon)",
                        "Soil Resources of India - Types and Distribution",
                        "Soil Resources - Conservation",
                        "Natural Vegetation of India - Types (Tropical, Deciduous, etc.)",
                        "Natural Vegetation - Conservation of Forests",
                        "Water Resources of India - Rivers (Himalayan & Peninsular)",
                        "Water Resources - Irrigation & Multi-purpose Projects",
                        "Mineral and Energy Resources - Iron Ore, Manganese, Coal",
                        "Mineral and Energy Resources - Petroleum, Natural Gas",
                        "Mineral Resources - Conventional & Non-Conventional Energy",
                        "Agriculture in India - Rice & Wheat",
                        "Agriculture in India - Millets & Pulses",
                        "Agriculture in India - Tea & Coffee",
                        "Agriculture in India - Sugarcane & Cotton",
                        "Industries in India - Cotton Textile Industry",
                        "Industries in India - Iron and Steel Industry",
                        "Industries in India - IT & Electronics Industry",
                        "Transport in India - Railways",
                        "Transport in India - Roadways & Airways",
                        "Transport in India - Waterways & Pipelines",
                        "Waste Management - Types of Waste",
                        "Waste Management - Methods of Disposal"
                    ]
                }
            },
            science: {
                "Physics": {
                    icon: "‚öõÔ∏è",
                    color: "cyan",
                    chapters: [
                        "Force - Types and Effects",
                        "Work - Definition and Formula",
                        "Power - Definition and Units",
                        "Energy - Kinetic and Potential",
                        "Simple Machines - Levers (Classes I, II, III)",
                        "Simple Machines - Pulleys",
                        "Simple Machines - Inclined Plane",
                        "Calorimetry - Specific Heat Capacity",
                        "Calorimetry - Latent Heat",
                        "Calorimetry - Numerical Problems",
                        "Refraction of Light - Laws of Refraction",
                        "Refraction - Refractive Index",
                        "Refraction - Critical Angle & Total Internal Reflection",
                        "Refraction through Lens - Convex Lens",
                        "Refraction through Lens - Concave Lens",
                        "Refraction through Lens - Power of a Lens",
                        "Spectrum - Dispersion of Light",
                        "Spectrum - Electromagnetic Spectrum",
                        "Sound - Wave Motion",
                        "Sound - Characteristics (Pitch, Loudness, Quality)",
                        "Sound - Reflection of Sound & Echo",
                        "Current Electricity - Ohm's Law",
                        "Current Electricity - Resistance & Resistivity",
                        "Current Electricity - Series & Parallel Circuits",
                        "Electrical Power and Household Circuits - Calculations",
                        "Electrical Power - Safety Devices (Fuse, MCB, Earthing)",
                        "Electromagnetism - Magnetic Effect of Current",
                        "Electromagnetism - Electromagnetic Induction",
                        "Electromagnetism - Transformers & Motors",
                        "Radioactivity - Alpha, Beta, Gamma Rays",
                        "Nuclear Energy - Fission and Fusion"
                    ]
                },
                "Chemistry": {
                    icon: "üß™",
                    color: "purple",
                    chapters: [
                        "Periodic Table - Modern Periodic Law",
                        "Periodic Table - Periods and Groups",
                        "Periodicity of Properties - Atomic Size, Ionization Energy",
                        "Periodicity - Electronegativity, Metallic Character",
                        "Chemical Bonding - Electrovalent Bond",
                        "Chemical Bonding - Covalent Bond",
                        "Chemical Bonding - Coordinate Bond",
                        "Study of Acids - Properties and Uses",
                        "Study of Bases - Properties and Uses",
                        "Study of Salts - Types and Preparation",
                        "Analytical Chemistry - Identification of Cations",
                        "Analytical Chemistry - Identification of Anions",
                        "Analytical Chemistry - Identification of Gases",
                        "Mole Concept - Atomic and Molecular Mass",
                        "Mole Concept - Avogadro's Number",
                        "Stoichiometry - Numerical Problems",
                        "Electrolysis - Electrolytes and Non-Electrolytes",
                        "Electrolysis - Applications (Electroplating, Extraction)",
                        "Metallurgy - Extraction of Aluminium",
                        "Metallurgy - Extraction of Iron",
                        "Metallurgy - Alloys",
                        "Study of Compounds - Hydrogen Chloride (Preparation & Properties)",
                        "Study of Compounds - Ammonia (Preparation & Properties)",
                        "Study of Compounds - Nitric Acid (Preparation & Properties)",
                        "Study of Compounds - Sulphuric Acid (Preparation & Properties)",
                        "Organic Chemistry - Introduction to Hydrocarbons",
                        "Organic Chemistry - Alkanes (Methane, Ethane)",
                        "Organic Chemistry - Alkenes (Ethene)",
                        "Organic Chemistry - Alkynes (Ethyne)",
                        "Organic Chemistry - Alcohols (Ethanol)",
                        "Organic Chemistry - Carboxylic Acids (Ethanoic Acid)",
                        "Practical Chemistry - Lab Procedures"
                    ]
                },
                "Biology": {
                    icon: "üß¨",
                    color: "emerald",
                    chapters: [
                        "Cell Division - Cell Cycle",
                        "Cell Division - Mitosis (Stages and Significance)",
                        "Cell Division - Meiosis (Stages and Significance)",
                        "Genetics - Mendel's Laws of Inheritance",
                        "Genetics - Monohybrid Cross",
                        "Genetics - Dihybrid Cross",
                        "Genetics - Sex Determination & Sex-Linked Inheritance",
                        "Human Evolution - Evidences of Evolution",
                        "Human Evolution - Stages of Human Evolution",
                        "Absorption by Roots - Structure of Root Hair",
                        "Absorption by Roots - Osmosis and Active Transport",
                        "Transpiration - Process and Factors",
                        "Transpiration - Significance and Experiments",
                        "Photosynthesis - Light and Dark Reactions",
                        "Photosynthesis - Factors Affecting",
                        "Photosynthesis - Experiments",
                        "Chemical Coordination in Plants - Plant Hormones",
                        "The Circulatory System - Structure of Heart",
                        "The Circulatory System - Blood Vessels",
                        "The Circulatory System - Blood Groups & Transfusion",
                        "The Excretory System - Structure of Nephron",
                        "The Excretory System - Urine Formation",
                        "The Nervous System - Structure of Neuron",
                        "The Nervous System - Brain (Structure and Functions)",
                        "The Nervous System - Reflex Action",
                        "The Endocrine System - Pituitary Gland",
                        "The Endocrine System - Thyroid, Adrenal Glands",
                        "The Endocrine System - Pancreas (Insulin, Glucagon)",
                        "The Reproductive System - Male Reproductive System",
                        "The Reproductive System - Female Reproductive System",
                        "The Reproductive System - Menstrual Cycle",
                        "Human Population - Growth and Problems",
                        "Pollution - Air, Water, Soil Pollution",
                        "Pollution - Effects and Control Measures"
                    ]
                },
                "Mathematics": {
                    icon: "üìê",
                    color: "red",
                    chapters: [
                        "GST (Goods and Services Tax) - Basic Concepts",
                        "GST - Problems on CGST and SGST",
                        "Banking - Recurring Deposits",
                        "Shares and Dividends - Concepts",
                        "Shares and Dividends - Problems",
                        "Linear Inequations - Graphical Representation",
                        "Quadratic Equations - Factorization Method",
                        "Quadratic Equations - Formula Method",
                        "Quadratic Equations - Nature of Roots",
                        "Ratio and Proportion - Componendo & Dividendo",
                        "Remainder and Factor Theorem",
                        "Matrices - Types and Operations",
                        "Matrices - Multiplication",
                        "Arithmetic Progression - nth Term",
                        "Arithmetic Progression - Sum of n Terms",
                        "Geometric Progression - nth Term and Sum",
                        "Coordinate Geometry - Reflection",
                        "Coordinate Geometry - Section Formula",
                        "Coordinate Geometry - Equation of a Line",
                        "Coordinate Geometry - Slope and Intercepts",
                        "Similarity of Triangles - Criteria (AA, SAS, SSS)",
                        "Similarity - Problems and Applications",
                        "Loci - Theorems and Constructions",
                        "Circles - Chord Properties",
                        "Circles - Tangent Properties",
                        "Circles - Angles in Alternate Segments",
                        "Circles - Cyclic Quadrilaterals",
                        "Constructions - Tangents to a Circle",
                        "Constructions - Circumscribed and Inscribed Circles",
                        "Mensuration - Cylinder (CSA, TSA, Volume)",
                        "Mensuration - Cone (CSA, TSA, Volume)",
                        "Mensuration - Sphere and Hemisphere",
                        "Trigonometric Identities - Proving Identities",
                        "Heights and Distances - Angle of Elevation",
                        "Heights and Distances - Angle of Depression",
                        "Statistics - Mean (Direct, Short-cut, Step-Deviation)",
                        "Statistics - Median and Quartiles",
                        "Statistics - Mode and Ogive",
                        "Probability - Basic Concepts",
                        "Probability - Problems on Cards, Dice, Coins"
                    ]
                }
            },
            commerce: {
                "Commercial Studies": {
                    icon: "üíº",
                    color: "slate",
                    chapters: [
                        "Introduction to Business - Meaning and Characteristics",
                        "Forms of Business Organizations - Sole Proprietorship",
                        "Forms of Business Organizations - Partnership",
                        "Forms of Business Organizations - Joint Stock Company",
                        "Forms of Business Organizations - Cooperative Societies",
                        "Trade - Internal Trade (Wholesale & Retail)",
                        "Trade - External Trade (Import & Export)",
                        "Trade - Documents of Trade",
                        "Banking Services - Types of Banks",
                        "Banking Services - Functions of Commercial Banks",
                        "Banking Services - E-Banking",
                        "Insurance - Principles of Insurance",
                        "Insurance - Types (Life, Fire, Marine, Health)",
                        "Transport - Roadways and Railways",
                        "Transport - Waterways and Airways",
                        "Communication - Postal Services",
                        "Communication - Telecommunication",
                        "Warehousing - Types and Functions",
                        "Advertising - Types and Media",
                        "Advertising - Ethics in Advertising",
                        "Salesmanship - Qualities of a Good Salesman",
                        "Entrepreneurship - Qualities and Functions",
                        "Consumer Protection - Consumer Rights",
                        "Consumer Protection - Consumer Forums"
                    ]
                },
                "Economics": {
                    icon: "üìà",
                    color: "teal",
                    chapters: [
                        "Introduction to Economics - Basic Concepts",
                        "Types of Economies - Capitalist, Socialist, Mixed",
                        "Demand - Law of Demand",
                        "Demand - Determinants of Demand",
                        "Supply - Law of Supply",
                        "Supply - Determinants of Supply",
                        "Price Determination - Equilibrium",
                        "Elasticity of Demand - Types and Measurement",
                        "National Income - Concepts (GDP, GNP, NNP)",
                        "National Income - Methods of Calculation",
                        "Money - Functions and Types",
                        "Banking - Commercial and Central Banks",
                        "Banking - Credit Creation",
                        "Public Finance - Government Budget",
                        "Public Finance - Taxation (Direct & Indirect)",
                        "Indian Economy - Agriculture Sector",
                        "Indian Economy - Industrial Sector",
                        "Indian Economy - Service Sector",
                        "Poverty - Causes and Measures",
                        "Unemployment - Types and Solutions",
                        "Infrastructure Development - Physical and Social",
                        "Globalization - Meaning and Impact"
                    ]
                },
                "Mathematics (Commerce)": {
                    icon: "üî¢",
                    color: "pink",
                    chapters: [
                        "GST (Goods and Services Tax) - Basic Concepts",
                        "GST - Problems on CGST and SGST",
                        "Banking - Recurring Deposits",
                        "Shares and Dividends - Concepts and Problems",
                        "Linear Inequations - Graphical Representation",
                        "Quadratic Equations - All Methods",
                        "Ratio and Proportion",
                        "Matrices - Types and Operations",
                        "Arithmetic Progression",
                        "Coordinate Geometry - Equation of a Line",
                        "Mensuration - Cylinder, Cone and Sphere",
                        "Statistics - Mean, Median, Mode",
                        "Probability"
                    ]
                }
            },
            optional: {
                computer: {
                    "Computer Applications": {
                        icon: "üíª",
                        color: "cyan",
                        chapters: [
                            "Introduction to Object Oriented Programming - Concepts",
                            "OOP - Features (Encapsulation, Inheritance, Polymorphism)",
                            "Elementary Concepts of Objects and Classes",
                            "Values and Data Types - Primitive Types",
                            "Values and Data Types - Reference Types",
                            "Operators in Java - Arithmetic Operators",
                            "Operators in Java - Relational & Logical Operators",
                            "Operators in Java - Assignment & Ternary Operators",
                            "Input in Java - Scanner Class",
                            "Input in Java - BufferedReader Class",
                            "Mathematical Library Methods - Math Class",
                            "Conditional Statements - if Statement",
                            "Conditional Statements - if-else Statement",
                            "Conditional Statements - Nested if-else",
                            "Conditional Statements - switch case",
                            "Iterative Statements - for loop",
                            "Iterative Statements - while loop",
                            "Iterative Statements - do-while loop",
                            "Nested Loops - Patterns and Series",
                            "Series Programs - Fibonacci, Prime, etc.",
                            "Pattern Programs - Star and Number Patterns",
                            "Functions / Methods - Definition and Calling",
                            "Functions / Methods - Parameters and Return Types",
                            "Function Overloading - Concept and Examples",
                            "Arrays - Single Dimensional (Declaration & Initialization)",
                            "Arrays - Single Dimensional (Traversal & Operations)",
                            "Arrays - Searching (Linear & Binary)",
                            "Arrays - Sorting (Bubble & Selection)",
                            "Arrays - Double Dimensional (Declaration)",
                            "Arrays - Double Dimensional (Operations)",
                            "String Handling - String Class",
                            "String Functions - length(), charAt(), indexOf()",
                            "String Functions - substring(), concat(), replace()",
                            "String Functions - toUpperCase(), toLowerCase(), trim()",
                            "String Functions - equals(), compareTo()",
                            "User Defined Programs - String Manipulation",
                            "User Defined Programs - Number Operations"
                        ]
                    }
                },
                pe: {
                    "Physical Education": {
                        icon: "üèÉ",
                        color: "lime",
                        chapters: [
                            "Health and Physical Fitness - Definition",
                            "Health and Physical Fitness - Components",
                            "First Aid - Basic Principles",
                            "First Aid - Treatment of Common Injuries",
                            "Personal Hygiene - Importance and Practices",
                            "Sports and Nutrition - Balanced Diet",
                            "Sports and Nutrition - Diet for Athletes",
                            "Posture - Good and Bad Posture",
                            "Common Postural Deformities - Kyphosis, Lordosis, Scoliosis",
                            "Safety in Sports - Precautions",
                            "Sports Injuries - Types and Treatment",
                            "Athletics - Track Events (Sprints, Relays)",
                            "Athletics - Field Events (Shot Put, Long Jump)",
                            "Team Games - Football (Rules and Skills)",
                            "Team Games - Basketball (Rules and Skills)",
                            "Team Games - Cricket (Rules and Skills)",
                            "Team Games - Hockey (Rules and Skills)",
                            "Team Games - Volleyball (Rules and Skills)",
                            "Individual Sports - Badminton",
                            "Individual Sports - Table Tennis",
                            "Yoga - Asanas and Pranayama",
                            "Yoga - Benefits and Precautions"
                        ]
                    }
                },
                art: {
                    "Art": {
                        icon: "üé®",
                        color: "rose",
                        chapters: [
                            "Fundamentals of Art and Design",
                            "Elements of Art - Line",
                            "Elements of Art - Shape and Form",
                            "Elements of Art - Color",
                            "Elements of Art - Texture and Space",
                            "Principles of Design - Balance and Proportion",
                            "Principles of Design - Rhythm and Unity",
                            "Color Theory - Color Wheel",
                            "Color Theory - Color Harmony",
                            "Perspective Drawing - One Point Perspective",
                            "Perspective Drawing - Two Point Perspective",
                            "Still Life Drawing - Composition",
                            "Still Life Drawing - Shading Techniques",
                            "Nature Study - Plants and Flowers",
                            "Nature Study - Animals and Birds",
                            "Figure Drawing - Human Proportions",
                            "Portrait Drawing - Facial Features",
                            "Landscape Drawing - Composition and Depth",
                            "Poster Making - Design Principles",
                            "Illustration - Storytelling through Art",
                            "Indian Art Forms - Madhubani, Warli",
                            "Indian Art Forms - Miniature Paintings",
                            "History of Art - Ancient Indian Art",
                            "History of Art - Medieval Indian Art",
                            "History of Art - Modern Indian Art"
                        ]
                    }
                }
            }
        };

        // State
        let currentUser = null;
        let userData = {
            name: '',
            email: '',
            photoURL: '',
            stream: '',
            optional: '',
            examDate: '',
            progress: {}
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Date input preview
            document.getElementById('examDate').addEventListener('change', (e) => {
                const date = new Date(e.target.value);
                const preview = document.getElementById('examPreview');
                const previewText = document.getElementById('examPreviewText');
                if (e.target.value) {
                    preview.classList.remove('hidden');
                    previewText.textContent = `üìÖ ${date.toLocaleDateString('en-IN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`;
                }
            });

            setTimeout(() => {
                document.getElementById('loadingScreen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                }, 500);
            }, 2000);

            // Auth state listener
            auth.onAuthStateChanged(async (user) => {
                if (user) {
                    currentUser = user;
                    userData.name = user.displayName || 'Student';
                    userData.email = user.email;
                    userData.photoURL = user.photoURL || '';
                    
                    await loadUserData();
                    
                    if (userData.stream && userData.optional && userData.examDate) {
                        showPage('dashboardPage');
                        renderDashboard();
                        startTimer();
                    } else {
                        document.getElementById('setupUserName').textContent = userData.name.split(' ')[0];
                        showPage('setupPage');
                    }
                } else {
                    showPage('authPage');
                }
            });
        });

        // Google Sign In
        async function signInWithGoogle() {
            const btn = document.getElementById('googleSignInBtn');
            const loading = document.getElementById('authLoading');
            
            try {
                btn.classList.add('hidden');
                loading.classList.remove('hidden');
                
                const result = await auth.signInWithPopup(googleProvider);
                const user = result.user;
                
                // Check if user exists in Firestore
                const doc = await db.collection('users').doc(user.uid).get();
                if (!doc.exists) {
                    // New user - create document
                    await db.collection('users').doc(user.uid).set({
                        name: user.displayName,
                        email: user.email,
                        photoURL: user.photoURL,
                        createdAt: firebase.firestore.FieldValue.serverTimestamp()
                    });
                }
                
                createConfetti();
            } catch (error) {
                console.error('Sign in error:', error);
                btn.classList.remove('hidden');
                loading.classList.add('hidden');
                showAuthError(getErrorMessage(error.code));
            }
        }

        function getErrorMessage(code) {
            const messages = {
                'auth/popup-closed-by-user': 'Sign-in popup was closed. Please try again.',
                'auth/popup-blocked': 'Popup was blocked. Please allow popups for this site.',
                'auth/cancelled-popup-request': 'Sign-in cancelled. Please try again.',
                'auth/network-request-failed': 'Network error. Please check your connection.',
                'auth/user-disabled': 'This account has been disabled.',
                'auth/operation-not-allowed': 'Google sign-in is not enabled. Please contact support.'
            };
            return messages[code] || 'An error occurred. Please try again.';
        }

        function showAuthError(message) {
            const errorDiv = document.getElementById('authError');
            errorDiv.textContent = message;
            errorDiv.classList.remove('hidden');
            errorDiv.classList.add('animate-shake');
            setTimeout(() => {
                errorDiv.classList.add('hidden');
                errorDiv.classList.remove('animate-shake');
            }, 5000);
        }

        // Load User Data
        async function loadUserData() {
            try {
                const doc = await db.collection('users').doc(currentUser.uid).get();
                if (doc.exists) {
                    const data = doc.data();
                    userData = { ...userData, ...data };
                }
            } catch (error) {
                console.error('Error loading user data:', error);
                // Fallback to localStorage
                const localData = localStorage.getItem('icse_userData_' + currentUser.uid);
                if (localData) {
                    userData = { ...userData, ...JSON.parse(localData) };
                }
            }
        }

        // Save User Data
        async function saveUserData() {
            try {
                await db.collection('users').doc(currentUser.uid).set(userData, { merge: true });
                localStorage.setItem('icse_userData_' + currentUser.uid, JSON.stringify(userData));
            } catch (error) {
                console.error('Error saving user data:', error);
                localStorage.setItem('icse_userData_' + currentUser.uid, JSON.stringify(userData));
            }
        }

        // Logout
        async function logout() {
            if (confirm('Are you sure you want to logout?')) {
                try {
                    await auth.signOut();
                    currentUser = null;
                    userData = { name: '', email: '', photoURL: '', stream: '', optional: '', examDate: '', progress: {} };
                    showPage('authPage');
                    document.getElementById('googleSignInBtn').classList.remove('hidden');
                    document.getElementById('authLoading').classList.add('hidden');
                } catch (error) {
                    console.error('Logout error:', error);
                }
            }
        }

        // Page Navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // Setup Steps
        function selectStream(stream) {
            userData.stream = stream;
            document.querySelectorAll('.stream-btn').forEach(btn => {
                btn.classList.remove('border-blue-500', 'border-purple-500', 'bg-blue-500/20', 'bg-purple-500/20');
            });
            event.currentTarget.classList.add(stream === 'science' ? 'border-blue-500' : 'border-purple-500');
            event.currentTarget.classList.add(stream === 'science' ? 'bg-blue-500/20' : 'bg-purple-500/20');
            
            // Update progress indicators
            document.getElementById('stepProgress1').style.width = '100%';
            document.getElementById('stepIndicator2').classList.remove('bg-slate-700');
            document.getElementById('stepIndicator2').classList.add('bg-blue-600');
            
            setTimeout(() => {
                document.getElementById('step1').classList.add('hidden');
                document.getElementById('step2').classList.remove('hidden');
                document.getElementById('step2').classList.add('animate-slide-up');
            }, 300);
        }

        function selectOptional(optional) {
            userData.optional = optional;
            document.querySelectorAll('.optional-btn').forEach(btn => {
                btn.classList.remove('border-cyan-500', 'border-green-500', 'border-pink-500', 'bg-cyan-500/20', 'bg-green-500/20', 'bg-pink-500/20');
            });
            const colors = { computer: 'cyan', pe: 'green', art: 'pink' };
            event.currentTarget.classList.add(`border-${colors[optional]}-500`);
            
            // Update progress indicators
            document.getElementById('stepProgress2').style.width = '100%';
            document.getElementById('stepIndicator3').classList.remove('bg-slate-700');
            document.getElementById('stepIndicator3').classList.add('bg-blue-600');
            
            setTimeout(() => {
                document.getElementById('step2').classList.add('hidden');
                document.getElementById('step3').classList.remove('hidden');
                document.getElementById('step3').classList.add('animate-slide-up');
                
                // Set default exam date to next year March
                const nextYear = new Date().getFullYear() + 1;
                document.getElementById('examDate').value = `${nextYear}-03-01`;
                document.getElementById('examDate').dispatchEvent(new Event('change'));
            }, 300);
        }

        function goBackToStep1() {
            document.getElementById('step2').classList.add('hidden');
            document.getElementById('step1').classList.remove('hidden');
            document.getElementById('stepProgress1').style.width = '0%';
            document.getElementById('stepIndicator2').classList.add('bg-slate-700');
            document.getElementById('stepIndicator2').classList.remove('bg-blue-600');
        }

        function goBackToStep2() {
            document.getElementById('step3').classList.add('hidden');
            document.getElementById('step2').classList.remove('hidden');
            document.getElementById('stepProgress2').style.width = '0%';
            document.getElementById('stepIndicator3').classList.add('bg-slate-700');
            document.getElementById('stepIndicator3').classList.remove('bg-blue-600');
        }

        async function completeSetup() {
            const examDate = document.getElementById('examDate').value;
            if (!examDate) {
                alert('Please select your exam date!');
                return;
            }
            userData.examDate = examDate;
            await saveUserData();
            createConfetti();
            showPage('dashboardPage');
            renderDashboard();
            startTimer();
        }

        // Render Dashboard
        function renderDashboard() {
            document.getElementById('userName').textContent = userData.name;
            
            // Set user photo
            const userPhoto = document.getElementById('userPhoto');
            if (userData.photoURL) {
                userPhoto.src = userData.photoURL;
                userPhoto.classList.remove('hidden');
            }
            
            document.getElementById('streamDisplay').textContent = userData.stream.charAt(0).toUpperCase() + userData.stream.slice(1);
            
            const optionalNames = { computer: 'Computer Applications', pe: 'Physical Education', art: 'Art' };
            document.getElementById('optionalDisplay').textContent = `+ ${optionalNames[userData.optional]}`;
            
            const subjects = getSubjectsForUser();
            const container = document.getElementById('syllabusContainer');
            container.innerHTML = '';

            let totalChapters = 0;
            let completedChapters = 0;

            subjects.forEach((subject, index) => {
                const subjectId = subject.name.replace(/\s+/g, '_').replace(/[()]/g, '');
                const chapters = subject.chapters;
                const completed = chapters.filter((_, i) => userData.progress[`${subjectId}_${i}`]).length;
                totalChapters += chapters.length;
                completedChapters += completed;
                const percentage = Math.round((completed / chapters.length) * 100);

                const subjectHTML = `
                    <div class="bg-slate-800/50 rounded-2xl overflow-hidden animate-slide-up border border-slate-700/50 hover:border-slate-600/50 transition-all" style="animation-delay: ${index * 0.05}s">
                        <button onclick="toggleSubject('${subjectId}')" class="w-full p-5 flex items-center justify-between hover:bg-slate-700/30 transition-all">
                            <div class="flex items-center gap-4">
                                <span class="text-4xl">${subject.icon}</span>
                                <div class="text-left">
                                    <h3 class="font-bold text-lg">${subject.name}</h3>
                                    <p class="text-sm text-slate-400">${completed}/${chapters.length} chapters completed</p>
                                </div>
                            </div>
                            <div class="flex items-center gap-4">
                                <div class="hidden md:block w-32 h-3 bg-slate-700 rounded-full overflow-hidden">
                                    <div class="h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500" style="width: ${percentage}%"></div>
                                </div>
                                <span class="text-sm font-bold ${percentage === 100 ? 'text-green-400' : 'text-blue-400'} min-w-[45px] text-right">${percentage}%</span>
                                <svg id="arrow_${subjectId}" class="w-6 h-6 transition-transform duration-300 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                                </svg>
                            </div>
                        </button>
                        <div id="chapters_${subjectId}" class="subject-accordion">
                            <div class="p-4 pt-0 space-y-2 max-h-96 overflow-y-auto">
                                ${chapters.map((chapter, i) => `
                                    <label class="chapter-item flex items-center gap-3 p-3 rounded-xl cursor-pointer ${userData.progress[`${subjectId}_${i}`] ? 'bg-green-500/10 border border-green-500/30' : 'border border-transparent hover:border-slate-600'}">
                                        <input type="checkbox" 
                                            ${userData.progress[`${subjectId}_${i}`] ? 'checked' : ''} 
                                            onchange="toggleChapter('${subjectId}', ${i})"
                                            class="w-5 h-5 rounded accent-green-500 cursor-pointer">
                                        <span class="flex-1 ${userData.progress[`${subjectId}_${i}`] ? 'line-through text-slate-500' : ''}">${chapter}</span>
                                        ${userData.progress[`${subjectId}_${i}`] ? '<span class="text-green-400 text-lg">‚úì</span>' : ''}
                                    </label>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
                container.innerHTML += subjectHTML;
            });

            updateProgress(completedChapters, totalChapters);
        }

        function getSubjectsForUser() {
            const subjects = [];
            
            // Common subjects
            Object.entries(syllabusData.common).forEach(([name, data]) => {
                subjects.push({ name, ...data });
            });

            // Stream subjects
            const streamData = syllabusData[userData.stream];
            if (streamData) {
                Object.entries(streamData).forEach(([name, data]) => {
                    subjects.push({ name, ...data });
                });
            }

            // Optional subject
            const optionalData = syllabusData.optional[userData.optional];
            if (optionalData) {
                Object.entries(optionalData).forEach(([name, data]) => {
                    subjects.push({ name, ...data });
                });
            }

            return subjects;
        }

        function toggleSubject(subjectId) {
            const chapters = document.getElementById(`chapters_${subjectId}`);
            const arrow = document.getElementById(`arrow_${subjectId}`);
            chapters.classList.toggle('open');
            arrow.style.transform = chapters.classList.contains('open') ? 'rotate(180deg)' : '';
        }

        async function toggleChapter(subjectId, index) {
            const key = `${subjectId}_${index}`;
            userData.progress[key] = !userData.progress[key];
            await saveUserData();
            
            if (userData.progress[key]) {
                createConfetti();
            }
            
            renderDashboard();
        }

        function updateProgress(completed, total) {
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;
            document.getElementById('overallProgress').textContent = `${percentage}%`;
            document.getElementById('chaptersCompleted').textContent = `${completed}/${total}`;
            document.getElementById('progressRing').setAttribute('stroke-dasharray', `${percentage}, 100`);
            document.getElementById('chaptersBar').style.width = `${percentage}%`;
        }

        // Timer
        function startTimer() {
            updateTimer();
            setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            if (!userData.examDate) return;
            
            const examDate = new Date(userData.examDate);
            const now = new Date();
            const diff = examDate - now;

            if (diff <= 0) {
                document.getElementById('timerDays').textContent = '00';
                document.getElementById('timerHours').textContent = '00';
                document.getElementById('timerMinutes').textContent = '00';
                document.getElementById('timerSeconds').textContent = '00';
                document.getElementById('examDateDisplay').textContent = 'üéâ Exam time! Good luck! You\'ve got this! üí™';
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('timerDays').textContent = String(days).padStart(2, '0');
            document.getElementById('timerHours').textContent = String(hours).padStart(2, '0');
            document.getElementById('timerMinutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('timerSeconds').textContent = String(seconds).padStart(2, '0');
            document.getElementById('examDateDisplay').textContent = `üìÖ Exam Date: ${new Date(userData.examDate).toLocaleDateString('en-IN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}`;
        }

        // Confetti Animation
        function createConfetti() {
            const colors = ['#3b82f6', '#8b5cf6', '#ec4899', '#10b981', '#f59e0b', '#ef4444'];
            const shapes = ['square', 'circle'];
            
            for (let i = 0; i < 60; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.borderRadius = shapes[Math.floor(Math.random() * shapes.length)] === 'circle' ? '50%' : '2px';
                confetti.style.width = (Math.random() * 10 + 5) + 'px';
                confetti.style.height = (Math.random() * 10 + 5) + 'px';
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 4000);
            }
        }
    </script>
</body>
</html>
